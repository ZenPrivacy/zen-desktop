var scriptlets=function(e){"use strict";var t,r,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o="object"==typeof document&&document.all,i=void 0===o&&void 0!==o?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e},s={},a=function(e){try{return!!e()}catch(e){return!0}},u=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),c=function(e){return e&&e.Math===Math&&e},f=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof n&&n)||c("object"==typeof n&&n)||function(){return this}()||Function("return this")(),l=i,p=function(e){return"object"==typeof e?null!==e:l(e)},y=p,d=f.document,h=y(d)&&y(d.createElement),g=function(e){return h?d.createElement(e):{}},w=!u&&!a((function(){return 7!==Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})),v=u&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),b=p,m=String,S=TypeError,R=function(e){if(b(e))return e;throw new S(m(e)+" is not an object")},O=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),E=O,P=Function.prototype.call,j=E?P.bind(P):function(){return P.apply(P,arguments)},x=f,k=i,T=function(e,t){return arguments.length<2?(r=x[e],k(r)?r:void 0):x[e]&&x[e][t];var r},L=O,M=Function.prototype,$=M.call,A=L&&M.bind.bind($,$),D=L?A:function(e){return function(){return $.apply(e,arguments)}},C=D({}.isPrototypeOf),I=f.navigator,H=I&&I.userAgent,N=H?String(H):"",q=f,B=N,X=q.process,F=q.Deno,z=X&&X.versions||F&&F.version,U=z&&z.v8;U&&(r=(t=U.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!r&&B&&(!(t=B.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=B.match(/Chrome\/(\d+)/))&&(r=+t[1]);var W=r,G=W,J=a,_=f.String,V=!!Object.getOwnPropertySymbols&&!J((function(){var e=Symbol("symbol detection");return!_(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&G&&G<41})),K=V&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=T,Z=i,Q=C,ee=Object,te=K?function(e){return"symbol"==typeof e}:function(e){var t=Y("Symbol");return Z(t)&&Q(t.prototype,ee(e))},re=String,ne=i,oe=function(e){try{return re(e)}catch(e){return"Object"}},ie=TypeError,se=function(e){if(ne(e))return e;throw new ie(oe(e)+" is not a function")},ae=function(e){return null==e},ue=se,ce=ae,fe=function(e,t){var r=e[t];return ce(r)?void 0:ue(r)},le=j,pe=i,ye=p,de=TypeError,he={exports:{}},ge=f,we=Object.defineProperty,ve=function(e,t){try{we(ge,e,{value:t,configurable:!0,writable:!0})}catch(r){ge[e]=t}return t},be=f,me=ve,Se="__core-js_shared__",Re=he.exports=be[Se]||me(Se,{});(Re.versions||(Re.versions=[])).push({version:"3.41.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Oe=he.exports,Ee=Oe,Pe=function(e,t){return Ee[e]||(Ee[e]=t||{})},je=ae,xe=TypeError,ke=function(e){if(je(e))throw new xe("Can't call method on "+e);return e},Te=ke,Le=Object,Me=function(e){return Le(Te(e))},$e=Me,Ae=D({}.hasOwnProperty),De=Object.hasOwn||function(e,t){return Ae($e(e),t)},Ce=D,Ie=0,He=Math.random(),Ne=Ce(1..toString),qe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ne(++Ie+He,36)},Be=Pe,Xe=De,Fe=qe,ze=V,Ue=K,We=f.Symbol,Ge=Be("wks"),Je=Ue?We.for||We:We&&We.withoutSetter||Fe,_e=function(e){return Xe(Ge,e)||(Ge[e]=ze&&Xe(We,e)?We[e]:Je("Symbol."+e)),Ge[e]},Ve=j,Ke=p,Ye=te,Ze=fe,Qe=function(e,t){var r,n;if("string"===t&&pe(r=e.toString)&&!ye(n=le(r,e)))return n;if(pe(r=e.valueOf)&&!ye(n=le(r,e)))return n;if("string"!==t&&pe(r=e.toString)&&!ye(n=le(r,e)))return n;throw new de("Can't convert object to primitive value")},et=TypeError,tt=_e("toPrimitive"),rt=function(e,t){if(!Ke(e)||Ye(e))return e;var r,n=Ze(e,tt);if(n){if(void 0===t&&(t="default"),r=Ve(n,e,t),!Ke(r)||Ye(r))return r;throw new et("Can't convert object to primitive value")}return void 0===t&&(t="number"),Qe(e,t)},nt=te,ot=function(e){var t=rt(e,"string");return nt(t)?t:t+""},it=u,st=w,at=v,ut=R,ct=ot,ft=TypeError,lt=Object.defineProperty,pt=Object.getOwnPropertyDescriptor,yt="enumerable",dt="configurable",ht="writable";s.f=it?at?function(e,t,r){if(ut(e),t=ct(t),ut(r),"function"==typeof e&&"prototype"===t&&"value"in r&&ht in r&&!r[ht]){var n=pt(e,t);n&&n[ht]&&(e[t]=r.value,r={configurable:dt in r?r[dt]:n[dt],enumerable:yt in r?r[yt]:n[yt],writable:!1})}return lt(e,t,r)}:lt:function(e,t,r){if(ut(e),t=ct(t),ut(r),st)try{return lt(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new ft("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var gt={exports:{}},wt=u,vt=De,bt=Function.prototype,mt=wt&&Object.getOwnPropertyDescriptor,St=vt(bt,"name"),Rt={EXISTS:St,PROPER:St&&"something"===function(){}.name,CONFIGURABLE:St&&(!wt||wt&&mt(bt,"name").configurable)},Ot=i,Et=Oe,Pt=D(Function.toString);Ot(Et.inspectSource)||(Et.inspectSource=function(e){return Pt(e)});var jt,xt,kt,Tt=Et.inspectSource,Lt=i,Mt=f.WeakMap,$t=Lt(Mt)&&/native code/.test(String(Mt)),At=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Dt=s,Ct=At,It=u?function(e,t,r){return Dt.f(e,t,Ct(1,r))}:function(e,t,r){return e[t]=r,e},Ht=qe,Nt=Pe("keys"),qt={},Bt=$t,Xt=f,Ft=p,zt=It,Ut=De,Wt=Oe,Gt=function(e){return Nt[e]||(Nt[e]=Ht(e))},Jt=qt,_t="Object already initialized",Vt=Xt.TypeError,Kt=Xt.WeakMap;if(Bt||Wt.state){var Yt=Wt.state||(Wt.state=new Kt);Yt.get=Yt.get,Yt.has=Yt.has,Yt.set=Yt.set,jt=function(e,t){if(Yt.has(e))throw new Vt(_t);return t.facade=e,Yt.set(e,t),t},xt=function(e){return Yt.get(e)||{}},kt=function(e){return Yt.has(e)}}else{var Zt=Gt("state");Jt[Zt]=!0,jt=function(e,t){if(Ut(e,Zt))throw new Vt(_t);return t.facade=e,zt(e,Zt,t),t},xt=function(e){return Ut(e,Zt)?e[Zt]:{}},kt=function(e){return Ut(e,Zt)}}var Qt={set:jt,get:xt,has:kt,enforce:function(e){return kt(e)?xt(e):jt(e,{})},getterFor:function(e){return function(t){var r;if(!Ft(t)||(r=xt(t)).type!==e)throw new Vt("Incompatible receiver, "+e+" required");return r}}},er=D,tr=a,rr=i,nr=De,or=u,ir=Rt.CONFIGURABLE,sr=Tt,ar=Qt.enforce,ur=Qt.get,cr=String,fr=Object.defineProperty,lr=er("".slice),pr=er("".replace),yr=er([].join),dr=or&&!tr((function(){return 8!==fr((function(){}),"length",{value:8}).length})),hr=String(String).split("String"),gr=gt.exports=function(e,t,r){"Symbol("===lr(cr(t),0,7)&&(t="["+pr(cr(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!nr(e,"name")||ir&&e.name!==t)&&(or?fr(e,"name",{value:t,configurable:!0}):e.name=t),dr&&r&&nr(r,"arity")&&e.length!==r.arity&&fr(e,"length",{value:r.arity});try{r&&nr(r,"constructor")&&r.constructor?or&&fr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=ar(e);return nr(n,"source")||(n.source=yr(hr,"string"==typeof t?t:"")),e};Function.prototype.toString=gr((function(){return rr(this)&&ur(this).source||sr(this)}),"toString");var wr=gt.exports,vr=i,br=s,mr=wr,Sr=ve,Rr=function(e,t,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:t;if(vr(r)&&mr(r,i,n),n.global)o?e[t]=r:Sr(t,r);else{try{n.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=r:br.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Or={};Or[_e("toStringTag")]="z";var Er="[object z]"===String(Or),Pr=D,jr=Pr({}.toString),xr=Pr("".slice),kr=function(e){return xr(jr(e),8,-1)},Tr=Er,Lr=i,Mr=kr,$r=_e("toStringTag"),Ar=Object,Dr="Arguments"===Mr(function(){return arguments}()),Cr=Tr?Mr:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Ar(e),$r))?r:Dr?Mr(t):"Object"===(n=Mr(t))&&Lr(t.callee)?"Arguments":n},Ir=String,Hr=function(e){if("Symbol"===Cr(e))throw new TypeError("Cannot convert a Symbol value to a string");return Ir(e)},Nr=TypeError,qr=function(e,t){if(e<t)throw new Nr("Not enough arguments");return e},Br=Rr,Xr=D,Fr=Hr,zr=qr,Ur=URLSearchParams,Wr=Ur.prototype,Gr=Xr(Wr.append),Jr=Xr(Wr.delete),_r=Xr(Wr.forEach),Vr=Xr([].push),Kr=new Ur("a=1&a=2&b=3");Kr.delete("a",1),Kr.delete("b",void 0),Kr+""!="a=2"&&Br(Wr,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return Jr(this,e);var n=[];_r(this,(function(e,t){Vr(n,{key:t,value:e})})),zr(t,1);for(var o,i=Fr(e),s=Fr(r),a=0,u=0,c=!1,f=n.length;a<f;)o=n[a++],c||o.key===i?(c=!0,Jr(this,o.key)):u++;for(;u<f;)(o=n[u++]).key===i&&o.value===s||Gr(this,o.key,o.value)}),{enumerable:!0,unsafe:!0});var Yr=Rr,Zr=D,Qr=Hr,en=qr,tn=URLSearchParams,rn=tn.prototype,nn=Zr(rn.getAll),on=Zr(rn.has),sn=new tn("a=1");!sn.has("a",2)&&sn.has("a",void 0)||Yr(rn,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return on(this,e);var n=nn(this,e);en(t,1);for(var o=Qr(r),i=0;i<n.length;)if(n[i++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0});var an=wr,un=s,cn=function(e,t,r){return r.get&&an(r.get,t,{getter:!0}),r.set&&an(r.set,t,{setter:!0}),un.f(e,t,r)},fn=u,ln=D,pn=cn,yn=URLSearchParams.prototype,dn=ln(yn.forEach);fn&&!("size"in yn)&&pn(yn,"size",{get:function(){var e=0;return dn(this,(function(){e++})),e},configurable:!0,enumerable:!0});const hn="Zen";function gn(e){return{log(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.log(`${hn} (${e}): ${t}`,n)},debug(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.debug(`${hn} (${e}): ${t}`,n)},info(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.info(`${hn} (${e}): ${t}`,n)},warn(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.warn(`${hn} (${e}): ${t}`,n)},error(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.error(`${hn} (${e}): ${t}`,n)}}}const wn=/^\/((?:[^/\\\r\n]|\\.)+)\/([gimsuy]*)$/;function vn(e){const t=e.match(wn);if(null===t)return null;try{return new RegExp(t[1],t[2])}catch{return null}}function bn(e,t){try{return new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),t)}catch{return null}}const mn=["url","method","credentials","cache","redirect","referrer","referrerPolicy","integrity","mode"];function Sn(e){if(""===e||"*"===e)return{};const t={},r=e.split(" ");for(const e of r){if(!e.includes(":")){t.url=vn(e)||bn(e)||e;continue}const[r,n]=e.split(":");if(""===r||void 0===n||""===n)throw new Error(`Invalid segment: "${e}"`);if(!mn.includes(r))throw new Error(`Invalid segment key: "${r}"`);t[r]=vn(n)||n}return t}function Rn(e,t){let r;r=t[0]instanceof Request?t[0]:void 0!==t[1]?{...t[1],url:t[0].toString()}:{url:t[0].toString()};for(const t of Object.keys(e))if(void 0===r[t]||!En(e[t],r[t]))return!1;return!0}function On(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const o={method:r[0],url:r[1].toString()};for(const t of Object.keys(e))if(void 0===o[t]||!En(e[t],o[t]))return!1;return!0}function En(e,t){return"string"==typeof e?e===t:e.test(t)}function Pn(e){const t=parseInt(e,10);if(isNaN(t))throw new Error("input is NaN");if(!Number.isFinite(t))throw new Error("input is Infinite");return t}const jn=/length:(\d+)-(\d+)/,xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+=~";function kn(e){if("false"===e)return"";let t,r;const n=e.match(jn);if("true"===e)t=10,r=10;else{if(!n)throw new Error("Invalid pattern");if(t=Pn(n[1]),r=Pn(n[2]),r>5e5)throw new Error("maxLength exceeds limit");if(t>r)throw new Error("minLength exceeds maxLength")}const o=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}(t,r);return function(e){let t="";for(let r=0;r<e;r++)t+=xn.charAt(Math.floor(Math.random()*xn.length));return t}(o)}const Tn=gn("prevent-fetch");var Ln="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Mn=D,$n=se,An=function(e,t,r){try{return Mn($n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}},Dn=f,Cn=An,In=kr,Hn=Dn.ArrayBuffer,Nn=Dn.TypeError,qn=Hn&&Cn(Hn.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==In(e))throw new Nn("ArrayBuffer expected");return e.byteLength},Bn=Ln,Xn=qn,Fn=f.DataView,zn=function(e){if(!Bn||0!==Xn(e))return!1;try{return new Fn(e),!1}catch(e){return!0}},Un=u,Wn=cn,Gn=zn,Jn=ArrayBuffer.prototype;Un&&!("detached"in Jn)&&Wn(Jn,"detached",{configurable:!0,get:function(){return Gn(this)}});var _n={},Vn={},Kn={}.propertyIsEnumerable,Yn=Object.getOwnPropertyDescriptor,Zn=Yn&&!Kn.call({1:2},1);Vn.f=Zn?function(e){var t=Yn(this,e);return!!t&&t.enumerable}:Kn;var Qn=a,eo=kr,to=Object,ro=D("".split),no=Qn((function(){return!to("z").propertyIsEnumerable(0)}))?function(e){return"String"===eo(e)?ro(e,""):to(e)}:to,oo=ke,io=function(e){return no(oo(e))},so=u,ao=j,uo=Vn,co=At,fo=io,lo=ot,po=De,yo=w,ho=Object.getOwnPropertyDescriptor;_n.f=so?ho:function(e,t){if(e=fo(e),t=lo(t),yo)try{return ho(e,t)}catch(e){}if(po(e,t))return co(!ao(uo.f,e,t),e[t])};var go={},wo=Math.ceil,vo=Math.floor,bo=Math.trunc||function(e){var t=+e;return(t>0?vo:wo)(t)},mo=function(e){var t=+e;return t!=t||0===t?0:bo(t)},So=mo,Ro=Math.max,Oo=Math.min,Eo=mo,Po=Math.min,jo=function(e){var t=Eo(e);return t>0?Po(t,9007199254740991):0},xo=jo,ko=function(e){return xo(e.length)},To=io,Lo=function(e,t){var r=So(e);return r<0?Ro(r+t,0):Oo(r,t)},Mo=ko,$o=function(e){return function(t,r,n){var o=To(t),i=Mo(o);if(0===i)return!e&&-1;var s,a=Lo(n,i);if(e&&r!=r){for(;i>a;)if((s=o[a++])!=s)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===r)return e||a||0;return!e&&-1}},Ao={includes:$o(!0),indexOf:$o(!1)},Do=De,Co=io,Io=Ao.indexOf,Ho=qt,No=D([].push),qo=function(e,t){var r,n=Co(e),o=0,i=[];for(r in n)!Do(Ho,r)&&Do(n,r)&&No(i,r);for(;t.length>o;)Do(n,r=t[o++])&&(~Io(i,r)||No(i,r));return i},Bo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");go.f=Object.getOwnPropertyNames||function(e){return qo(e,Bo)};var Xo={};Xo.f=Object.getOwnPropertySymbols;var Fo,zo,Uo,Wo,Go=T,Jo=go,_o=Xo,Vo=R,Ko=D([].concat),Yo=Go("Reflect","ownKeys")||function(e){var t=Jo.f(Vo(e)),r=_o.f;return r?Ko(t,r(e)):t},Zo=De,Qo=Yo,ei=_n,ti=s,ri=a,ni=i,oi=/#|\.prototype\./,ii=function(e,t){var r=ai[si(e)];return r===ci||r!==ui&&(ni(t)?ri(t):!!t)},si=ii.normalize=function(e){return String(e).replace(oi,".").toLowerCase()},ai=ii.data={},ui=ii.NATIVE="N",ci=ii.POLYFILL="P",fi=ii,li=f,pi=_n.f,yi=It,di=Rr,hi=ve,gi=function(e,t,r){for(var n=Qo(t),o=ti.f,i=ei.f,s=0;s<n.length;s++){var a=n[s];Zo(e,a)||r&&Zo(r,a)||o(e,a,i(t,a))}},wi=fi,vi=function(e,t){var r,n,o,i,s,a=e.target,u=e.global,c=e.stat;if(r=u?li:c?li[a]||hi(a,{}):li[a]&&li[a].prototype)for(n in t){if(i=t[n],o=e.dontCallGetSet?(s=pi(r,n))&&s.value:r[n],!wi(u?n:a+(c?".":"#")+n,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;gi(i,o)}(e.sham||o&&o.sham)&&yi(i,"sham",!0),di(r,n,i,e)}},bi=mo,mi=jo,Si=RangeError,Ri=zn,Oi=TypeError,Ei=f,Pi=N,ji=kr,xi=function(e){return Pi.slice(0,e.length)===e},ki=xi("Bun/")?"BUN":xi("Cloudflare-Workers")?"CLOUDFLARE":xi("Deno/")?"DENO":xi("Node.js/")?"NODE":Ei.Bun&&"string"==typeof Bun.version?"BUN":Ei.Deno&&"object"==typeof Deno.version?"DENO":"process"===ji(Ei.process)?"NODE":Ei.window&&Ei.document?"BROWSER":"REST",Ti=f,Li="NODE"===ki,Mi=a,$i=W,Ai=ki,Di=f.structuredClone,Ci=!!Di&&!Mi((function(){if("DENO"===Ai&&$i>92||"NODE"===Ai&&$i>94||"BROWSER"===Ai&&$i>97)return!1;var e=new ArrayBuffer(8),t=Di(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})),Ii=f,Hi=function(e){if(Li){try{return Ti.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}},Ni=Ci,qi=Ii.structuredClone,Bi=Ii.ArrayBuffer,Xi=Ii.MessageChannel,Fi=!1;if(Ni)Fi=function(e){qi(e,{transfer:[e]})};else if(Bi)try{Xi||(Fo=Hi("worker_threads"))&&(Xi=Fo.MessageChannel),Xi&&(zo=new Xi,Uo=new Bi(2),Wo=function(e){zo.port1.postMessage(null,[e])},2===Uo.byteLength&&(Wo(Uo),0===Uo.byteLength&&(Fi=Wo)))}catch(e){}var zi=f,Ui=D,Wi=An,Gi=function(e){if(void 0===e)return 0;var t=bi(e),r=mi(t);if(t!==r)throw new Si("Wrong length or index");return r},Ji=function(e){if(Ri(e))throw new Oi("ArrayBuffer is detached");return e},_i=qn,Vi=Fi,Ki=Ci,Yi=zi.structuredClone,Zi=zi.ArrayBuffer,Qi=zi.DataView,es=Math.min,ts=Zi.prototype,rs=Qi.prototype,ns=Ui(ts.slice),os=Wi(ts,"resizable","get"),is=Wi(ts,"maxByteLength","get"),ss=Ui(rs.getInt8),as=Ui(rs.setInt8),us=(Ki||Vi)&&function(e,t,r){var n,o=_i(e),i=void 0===t?o:Gi(t),s=!os||!os(e);if(Ji(e),Ki&&(e=Yi(e,{transfer:[e]}),o===i&&(r||s)))return e;if(o>=i&&(!r||s))n=ns(e,0,i);else{var a=r&&!s&&is?{maxByteLength:is(e)}:void 0;n=new Zi(i,a);for(var u=new Qi(e),c=new Qi(n),f=es(i,o),l=0;l<f;l++)as(c,l,ss(u,l))}return Ki||Vi(e),n},cs=us;cs&&vi({target:"ArrayBuffer",proto:!0},{transfer:function(){return cs(this,arguments.length?arguments[0]:void 0,!0)}});var fs=us;fs&&vi({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return fs(this,arguments.length?arguments[0]:void 0,!1)}});const ls=gn("prevent-xhr"),ps=Symbol("prevent"),ys=Symbol("url"),ds=Symbol("responseHeaders");const hs=gn("nowebrtc");var gs=D,ws=Set.prototype,vs={Set:Set,add:gs(ws.add),has:gs(ws.has),remove:gs(ws.delete),proto:ws},bs=vs.has,ms=function(e){return bs(e),e},Ss=j,Rs=function(e,t,r){for(var n,o,i=r?e:e.iterator,s=e.next;!(n=Ss(s,i)).done;)if(void 0!==(o=t(n.value)))return o},Os=D,Es=Rs,Ps=vs.Set,js=vs.proto,xs=Os(js.forEach),ks=Os(js.keys),Ts=ks(new Ps).next,Ls=function(e,t,r){return r?Es({iterator:ks(e),next:Ts},t):xs(e,t)},Ms=Ls,$s=vs.Set,As=vs.add,Ds=function(e){var t=new $s;return Ms(e,(function(e){As(t,e)})),t},Cs=An(vs.proto,"size","get")||function(e){return e.size},Is=se,Hs=R,Ns=j,qs=mo,Bs=function(e){return{iterator:e,next:e.next,done:!1}},Xs="Invalid size",Fs=RangeError,zs=TypeError,Us=Math.max,Ws=function(e,t){this.set=e,this.size=Us(t,0),this.has=Is(e.has),this.keys=Is(e.keys)};Ws.prototype={getIterator:function(){return Bs(Hs(Ns(this.keys,this.set)))},includes:function(e){return Ns(this.has,this.set,e)}};var Gs=function(e){Hs(e);var t=+e.size;if(t!=t)throw new zs(Xs);var r=qs(t);if(r<0)throw new Fs(Xs);return new Ws(e,r)},Js=ms,_s=Ds,Vs=Cs,Ks=Gs,Ys=Ls,Zs=Rs,Qs=vs.has,ea=vs.remove,ta=T,ra=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},na=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}},oa=function(e,t){var r=ta("Set");try{(new r)[e](ra(0));try{return(new r)[e](ra(-1)),!1}catch(o){if(!t)return!0;try{return(new r)[e](na(-1/0)),!1}catch(o){var n=new r;return n.add(1),n.add(2),t(n[e](na(1/0)))}}}catch(e){return!1}},ia=function(e){var t=Js(this),r=Ks(e),n=_s(t);return Vs(t)<=r.size?Ys(t,(function(e){r.includes(e)&&ea(n,e)})):Zs(r.getIterator(),(function(e){Qs(t,e)&&ea(n,e)})),n};vi({target:"Set",proto:!0,real:!0,forced:!oa("difference",(function(e){return 0===e.size}))},{difference:ia});var sa=ms,aa=Cs,ua=Gs,ca=Ls,fa=Rs,la=vs.Set,pa=vs.add,ya=vs.has,da=a,ha=function(e){var t=sa(this),r=ua(e),n=new la;return aa(t)>r.size?fa(r.getIterator(),(function(e){ya(t,e)&&pa(n,e)})):ca(t,(function(e){r.includes(e)&&pa(n,e)})),n};vi({target:"Set",proto:!0,real:!0,forced:!oa("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||da((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:ha});var ga=j,wa=R,va=fe,ba=function(e,t,r){var n,o;wa(e);try{if(!(n=va(e,"return"))){if("throw"===t)throw r;return r}n=ga(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return wa(n),r},ma=ms,Sa=vs.has,Ra=Cs,Oa=Gs,Ea=Ls,Pa=Rs,ja=ba,xa=function(e){var t=ma(this),r=Oa(e);if(Ra(t)<=r.size)return!1!==Ea(t,(function(e){if(r.includes(e))return!1}),!0);var n=r.getIterator();return!1!==Pa(n,(function(e){if(Sa(t,e))return ja(n,"normal",!1)}))};vi({target:"Set",proto:!0,real:!0,forced:!oa("isDisjointFrom",(function(e){return!e}))},{isDisjointFrom:xa});var ka=ms,Ta=Cs,La=Ls,Ma=Gs,$a=function(e){var t=ka(this),r=Ma(e);return!(Ta(t)>r.size)&&!1!==La(t,(function(e){if(!r.includes(e))return!1}),!0)};vi({target:"Set",proto:!0,real:!0,forced:!oa("isSubsetOf",(function(e){return e}))},{isSubsetOf:$a});var Aa=ms,Da=vs.has,Ca=Cs,Ia=Gs,Ha=Rs,Na=ba,qa=function(e){var t=Aa(this),r=Ia(e);if(Ca(t)<r.size)return!1;var n=r.getIterator();return!1!==Ha(n,(function(e){if(!Da(t,e))return Na(n,"normal",!1)}))};vi({target:"Set",proto:!0,real:!0,forced:!oa("isSupersetOf",(function(e){return!e}))},{isSupersetOf:qa});var Ba=ms,Xa=Ds,Fa=Gs,za=Rs,Ua=vs.add,Wa=vs.has,Ga=vs.remove,Ja=function(e){var t=Ba(this),r=Fa(e).getIterator(),n=Xa(t);return za(r,(function(e){Wa(t,e)?Ga(n,e):Ua(n,e)})),n};vi({target:"Set",proto:!0,real:!0,forced:!oa("symmetricDifference")},{symmetricDifference:Ja});var _a=ms,Va=vs.add,Ka=Ds,Ya=Gs,Za=Rs,Qa=function(e){var t=_a(this),r=Ya(e).getIterator(),n=Ka(t);return Za(r,(function(e){Va(n,e)})),n};vi({target:"Set",proto:!0,real:!0,forced:!oa("union")},{union:Qa});const eu=new Set(["undefined","false","true","null","yes","no","on","off","accept","accepted","reject","rejected","allowed","denied","forbidden","forever",""]);function tu(e){if(eu.has(e.toLowerCase()))return e;if("emptyArr"===e)return"[]";if("emptyObj"===e)return"{}";if("$remove$"===e)return"$remove$";const t=parseInt(e);if(!isNaN(t)&&t>=0&&t<=32767)return e;throw new Error("Invalid value")}function ru(e,t){const r=vn(t);if(null!==r){const t=Object.keys(e);for(const n of t)r.test(n)&&e.removeItem(n)}else e.removeItem(t)}function nu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ou(e){const{stack:t}=new Error;return void 0!==t&&t.split("\n").slice(2).map((e=>e.trim())).some((t=>e.test(t)))}const iu=gn("set-constant");function su(e,t,r){const n=cu(e),o=cu(t);let i=null;return"string"==typeof r&&(i=vn(r)||bn(r)),function(e){if("object"==typeof e&&(null===i||ou(i))){if(o.length>0){let t=!1;for(const r of o)if(uu(e,r)){t=!0;break}if(!t)return}for(const t of n)au(e,t)}}}function au(e,t){if(0===t.length||null==e)return;const[r,...n]=t;if("*"!==r)if("[]"!==r)Object.hasOwn(e,r)&&(0===n.length?delete e[r]:au(e[r],n));else{if(!Array.isArray(e))return;for(let t=0;t<e.length;t++)au(e[t],n)}else{const r=Object.getOwnPropertyNames(e).filter((t=>"object"==typeof e[t]||Array.isArray(e[t])));for(const o of r)au(e[o],t),au(e[o],n)}}function uu(e,t){if(null==e)return!1;if(0===t.length)return!0;if("*"===t[0]){const r=Object.getOwnPropertyNames(e).filter((t=>"object"==typeof e[t]||Array.isArray(e[t])));for(const n of r)if(uu(e[n],t)||uu(e[n],t.slice(1)))return!0;return!1}if("[]"===t[0]){if(!Array.isArray(e))return!1;for(let r=0;r<e.length;r++)if(uu(e[r],t.slice(1)))return!0;return!1}return!!Object.hasOwn(e,t[0])&&uu(e[t[0]],t.slice(1))}function cu(e){return"string"!=typeof e?[]:e.split(/\s+/).filter(Boolean).map((e=>e.split(".")))}const fu=gn("json-prune");const lu=gn("json-prune-fetch-response");var pu=kr,yu=u,du=Array.isArray||function(e){return"Array"===pu(e)},hu=TypeError,gu=Object.getOwnPropertyDescriptor,wu=yu&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),vu=TypeError,bu=Me,mu=ko,Su=wu?function(e,t){if(du(e)&&!gu(e,"length").writable)throw new hu("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Ru=function(e){if(e>9007199254740991)throw vu("Maximum allowed index exceeded");return e};vi({target:"Array",proto:!0,arity:1,forced:a((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=bu(this),r=mu(t),n=arguments.length;Ru(r+n);for(var o=0;o<n;o++)t[r]=arguments[o],r++;return Su(t,r),r}});const Ou=gn("json-prune-xhr-response"),Eu=Symbol("requestHeaders"),Pu=Symbol("shouldPrune"),ju=Symbol("openArgs"),xu=Symbol("responseHeaders");function ku(e,t,r){const n=t.split(".");let o=e;for(let e=0;e<n.length;e++){const t=n[e],i=e===n.length-1,s=n.slice(0,e+1);if(i){const e=s[s.length-1],t=Object.getOwnPropertyDescriptor(o,e)||{},i=t.get,a=t.set;let u=t.value;Object.defineProperty(o,n[n.length-1],{configurable:!0,enumerable:!0,get(){return r.onGet&&r.onGet(),i?i.call(this):u},set(e){r.onSet&&r.onSet(),a?a.call(this,e):u=e}})}else{const i=Tu(o,t),s=Object.prototype.hasOwnProperty.call(o,t);if(i&&!s){let i;const s=(e,t)=>new Proxy(e,{get(e,n){const o=Reflect.get(e,n,e);return 1===t.length&&n===t[0]?(r.onGet&&r.onGet(),o):n===t[0]&&nu(o)?s(o,t.slice(1)):o},set:(e,n,o)=>(1===t.length&&n===t[0]&&r.onSet&&r.onSet(),Reflect.set(e,n,o))});return void Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:()=>nu(i)?s(i,n.slice(e+1)):i,set(e){i=e}})}o=o[t]}}}function Tu(e,t){if(!e)return!0;const r=Object.getOwnPropertyDescriptor(e,t);return!r||Boolean(r.configurable)}function Lu(){return Math.random().toString(36).substring(2,15)}const Mu=gn("abort-current-inline-script");const $u=gn("prevent-window-open");const Au=gn("abort-on-property-read");const Du=gn("abort-on-property-write");const Cu=gn("abort-on-stack-trace");return e.abortCurrentInlineScript=function(e,t){if("string"!=typeof e||0===e.length)return void Mu.warn("property should be a non-empty string");let r;"string"==typeof t&&t.length>0&&(r=vn(t)||bn(t));const n=Lu(),o=document.currentScript,i=()=>{const t=document.currentScript;if(t instanceof HTMLScriptElement&&t!==o&&(!r||r.test(t.textContent||"")))throw Mu.info(`Blocked ${e} in currentScript`),new ReferenceError(`Aborted script with ID: ${n}`)};ku(window,e,{onGet:i,onSet:i}),window.addEventListener("error",(e=>{e.error instanceof ReferenceError&&e.error.message.includes(n)&&e.preventDefault()}))},e.abortOnPropertyRead=function(e){if("string"!=typeof e||0===e.length)return void Au.warn("property should be a non-empty string");const t=Lu();ku(window,e,{onGet:()=>{throw Au.info(`Blocked ${e} read`),new ReferenceError(`Aborted script with ID: ${t}`)}}),window.addEventListener("error",(e=>{e.error instanceof ReferenceError&&e.error.message.includes(t)&&e.preventDefault()}))},e.abortOnPropertyWrite=function(e){if("string"!=typeof e||0===e.length)return void Du.warn("property should be a non-empty string");const t=Lu();ku(window,e,{onSet:()=>{throw Du.info(`Blocked ${e} write`),new ReferenceError(`Aborted script with ID: ${t}`)}}),window.addEventListener("error",(e=>{e.error instanceof ReferenceError&&e.error.message.includes(t)&&e.preventDefault()}))},e.abortOnStackTrace=function(e,t){if("string"!=typeof e||0===e.length)return void Cu.warn("property should be a non-empty string");if("string"!=typeof t||0===t.length)return void Cu.warn("stack should be a non-empty string");const r=vn(t)||bn(t),n=Lu(),o=()=>{if(null!==r&&ou(r))throw Cu.info(`Blocked script on '${t}' stack`),new ReferenceError(`Aborted script with ID: ${n}`)};ku(window,e,{onGet:o,onSet:o}),window.addEventListener("error",(e=>{e.error instanceof ReferenceError&&e.error.message.includes(n)&&e.preventDefault()}))},e.jsonPrune=function(e,t,r){if("undefined"==typeof Proxy)return void fu.warn("Proxy not available in this environment");if("string"!=typeof e||0===e.length)return void fu.warn("propsToRemove should be a non-empty string");const n=su(e,t,r);JSON.parse=new Proxy(JSON.parse,{apply:(e,t,r)=>{const o=Reflect.apply(e,t,r);return n(o),o}}),"undefined"!=typeof Response&&(Response.prototype.json=new Proxy(Response.prototype.json,{apply:async(e,t,r)=>{const o=await Reflect.apply(e,t,r);return n(o),o}}))},e.jsonPruneFetchResponse=function(e,t,r,n){if("undefined"==typeof Proxy||"undefined"==typeof fetch||"undefined"==typeof Response)return void lu.warn("Either Proxy, fetch, or Response is not supported in this environment");if("string"!=typeof e||0===e.length)return void lu.warn("propsToRemove cannot be empty");let o;if("string"==typeof r)try{o=Sn(r)}catch(e){return void lu.warn("error parsing propsToMatch",e)}const i=su(e,t,n);window.fetch=new Proxy(window.fetch,{apply:async(e,t,r)=>{if(o&&!Rn(o,r))return Reflect.apply(e,t,r);const n=await Reflect.apply(e,t,r),s=n.clone();let a;try{a=await n.json()}catch(e){return s}i(a);const u=new Response(JSON.stringify(a),{status:n.status,statusText:n.statusText,headers:n.headers});return Object.defineProperties(u,{url:{value:n.url},type:{value:n.type},ok:{value:n.ok},redirected:{value:n.redirected}}),u}})},e.jsonPruneXHRResponse=function(e,t,r,n){if("undefined"==typeof Proxy)return void Ou.warn("Proxy is not supported in this environment");if("string"!=typeof e||0===e.length)return void Ou.warn("propsToMatch cannot be empty");let o;if("string"==typeof r)try{o=Sn(r)}catch(e){return void Ou.warn("error parsing propsToMatch",e)}const i=su(e,t,n),{open:s,send:a}=window.XMLHttpRequest.prototype;XMLHttpRequest.prototype.open=new Proxy(XMLHttpRequest.prototype.open,{apply:(e,t,r)=>void 0===o||On(o,...r)?(t[Pu]=!0,t[Eu]=[],t[ju]=r,t[xu]=[],Reflect.apply(e,t,r)):Reflect.apply(e,t,r)}),XMLHttpRequest.prototype.setRequestHeader=new Proxy(XMLHttpRequest.prototype.setRequestHeader,{apply:(e,t,r)=>t[Pu]?(t[Eu].push(r),Reflect.apply(e,t,r)):Reflect.apply(e,t,r)}),XMLHttpRequest.prototype.send=new Proxy(XMLHttpRequest.prototype.send,{apply:(e,t,r)=>{if(!t[Pu])return Reflect.apply(e,t,r);const n=new XMLHttpRequest;n.addEventListener("readystatechange",(async()=>{if(n.readyState!==XMLHttpRequest.DONE)return;const e={readyState:{value:n.readyState,writable:!1},responseURL:{value:n.responseURL,writable:!1},status:{value:n.status,writable:!1},statusText:{value:n.statusText,writable:!1},response:{value:n.response,writable:!1}};try{e.responseXML={value:n.responseXML,writable:!1}}catch{}try{e.responseText={value:n.responseText,writable:!1}}catch{}try{if(""===n.responseType||"text"===n.responseType){const t=JSON.parse(n.responseText);i(t);const r=JSON.stringify(t);e.response={value:r,writable:!1},e.responseText={value:r,writable:!1}}else if("arraybuffer"===n.responseType){const t=(new TextDecoder).decode(n.response),r=JSON.parse(t);i(r);const o=(new TextEncoder).encode(JSON.stringify(r));e.response={value:o,writable:!1}}else if("blob"===n.responseType){const t=await n.response.text(),r=JSON.parse(t);i(r);const o=new Blob([JSON.stringify(r)]);e.response={value:o,writable:!1}}else{if("json"!==n.responseType)throw new Error(`Unsupported type: ${n.responseType}`);i(n.response),e.response={value:n.response,writable:!1}}}catch(e){Ou.error("Error parsing/pruning response",e)}Object.defineProperties(t,e);const r=n.getAllResponseHeaders();for(const e of r.trim().split(/[\r\n]+/)){const[r,n]=e.split(": ");t[xu].push([r,n])}setTimeout((()=>{t.dispatchEvent(new Event("readystatechange")),t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))}),1)})),s.apply(n,t[ju]);for(const[e,r]of t[Eu])n.setRequestHeader(e,r);try{a.apply(n,r)}catch(n){return Ou.error("Error sending substitute request",n),Reflect.apply(e,t,r)}}}),XMLHttpRequest.prototype.getResponseHeader=new Proxy(XMLHttpRequest.prototype.getResponseHeader,{apply:(e,t,r)=>{if(!t[Pu])return Reflect.apply(e,t,r);let n=null;for(const[e,o]of t[xu])if(e===r[0]){n=o;break}return n}}),XMLHttpRequest.prototype.getAllResponseHeaders=new Proxy(XMLHttpRequest.prototype.getAllResponseHeaders,{apply:(e,t,r)=>t[Pu]?t[xu].map((e=>{let[t,r]=e;return`${t}: ${r}`})).join("\r\n"):Reflect.apply(e,t,r)})},e.nowebrtc=function(){if(!window.RTCPeerConnection)return;const e=e=>{hs.log(`document tried to create an RTCPeerConnection with config: ${e}`)},t=()=>{};e.prototype={close:t,createDataChannel:t,createOffer:t,setRemoteDescription:t,toString:()=>"[object RTCPeerConnection]"};const r=window.RTCPeerConnection;window.RTCPeerConnection=e,r.prototype&&(r.prototype.createDataChannel=()=>({close:t,send:t}))},e.preventFetch=function(e){let t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyObj",o=arguments.length>2?arguments[2]:void 0;if("undefined"!=typeof fetch&&"undefined"!=typeof Proxy&&"undefined"!=typeof Response){switch(n){case"":case"emptyObj":t="{}";break;case"emptyArr":t="[]";break;case"emptyStr":t="";break;default:return void Tn.warn(`Invalid responseBody: ${n}`)}if("string"!=typeof o||"basic"===o||"cors"===o||"opaque"===o){try{r=Sn(e)}catch(e){Tn.warn("Error parsing props",e)}fetch=new Proxy(fetch,{apply:async(e,n,i)=>{if(!Rn(r,i))return Reflect.apply(e,n,i);const s=new Response(t,{status:200,statusText:"OK",headers:new Headers({"Content-Length":t.length.toString(),"Content-Type":"application/json",Date:(new Date).toUTCString()})});if("opaque"===o)Object.defineProperties(s,{url:{value:""},status:{value:0},statusText:{value:""},body:{value:null},type:{value:"opaque"},headers:{value:new Headers}});else{let e;e=i[0]instanceof URL?i[0].toString():i[0]instanceof Request?i[0].url:i[0],Object.defineProperties(s,{url:{value:e},type:{value:o||"basic"}})}return s}})}else Tn.warn(`Invalid responseType: ${o}`)}else Tn.warn("Either fetch, Proxy, or Response is not supported in this environment")},e.preventWindowOpen=function(e,t,r){let n;try{n="1"===e||"0"===e?function(e,t,r){let n,o=!1;"0"===e&&(o=!0);if("string"==typeof t&&t.length>0&&(n=(vn(t)||bn(t))??void 0,void 0===n))throw new Error("Could not parse search");let i=()=>{};if("trueFunc"===r)i=()=>!0;else if("string"==typeof r&&r.length>0){if(!r.startsWith("{")||!r.endsWith("}"))throw new Error(`Invalid replacement ${r}`);const e=r.slice(1,-1).split("=");if(2!==e.length||0===e[0].length||"noopFunc"!==e[1])throw new Error(`Invalid replacement ${r}`);i={[e[0]]:()=>{}}}return(e,t,r)=>{let s;if(0===r.length||null==r[0])s="";else if("string"==typeof r[0])s=r[0];else{if(!(r[0]instanceof URL))return Reflect.apply(e,t,r);s=r[0].toString()}if(void 0!==n){let i=n.test(s);if(o&&(i=!i),!i)return Reflect.apply(e,t,r)}return $u.info("Preventing window.open",{args:r}),i}}(e,t,r):function(e,t,r){let n,o,i=!1;if("string"==typeof e&&e.length>0&&(i="!"===e[0],i&&(e=e.slice(1)),n=(vn(e)||bn(e))??void 0,void 0===n))throw new Error("Could not parse match");"string"==typeof t&&t.length>0&&(o=Pn(t));if("string"==typeof r&&"obj"!==r&&"blank"!==r)throw new Error(`Replacement type ${r} not supported`);return(e,t,s)=>{let a,u,c;if(0===s.length||null==s[0])a="";else if("string"==typeof s[0])a=s[0];else{if(!(s[0]instanceof URL))return Reflect.apply(e,t,s);a=s[0].toString()}if(void 0!==n){let r=n.test(a);if(i&&(r=!r),!r)return Reflect.apply(e,t,s)}if($u.info("Preventing window.open",{args:s}),"blank"===r)return Reflect.apply(e,t,["about:blank",...s.slice(1)]);if("obj"===r)u=document.createElement("object"),u.data=a;else u=document.createElement("iframe"),u.src=a;if(u.style.setProperty("height","1px","important"),u.style.setProperty("width","1px","important"),u.style.setProperty("position","absolute","important"),u.style.setProperty("top","-9999px","important"),document.body.appendChild(u),void 0!==o&&setTimeout((()=>{u.remove()}),1e3*o),"obj"===r){if(c=u.contentWindow,null===c||"object"!=typeof c)return null;Object.defineProperties(c,{closed:{value:!1},opener:{value:window},frameElement:{value:null}})}else c=new Proxy(window,{get:(e,t,r)=>{if("closed"===t)return!1;const n=Reflect.get(e,t,r);return"function"==typeof n?()=>{}:n},set:()=>!0});return c}}(e,t,r)}catch(e){return void $u.warn("Error while making handler",{ex:e})}window.open=new Proxy(window.open,{apply:n})},e.preventXHR=function(e,t){if("undefined"==typeof Proxy)return void ls.warn("Proxy is not supported in this environment");if("string"!=typeof e)return void ls.warn("propsToMatch is required");let r;try{r=Sn(e)}catch(e){return void ls.warn("error parsing props",e)}XMLHttpRequest.prototype.open=new Proxy(XMLHttpRequest.prototype.open,{apply:(e,t,n)=>t[ps]||On(r,...n)?(ls.debug("Preventing XHR request",n),t[ps]=!0,t[ys]=n[1].toString(),Reflect.apply(e,t,n)):(t[ps]=!1,Reflect.apply(e,t,n))}),XMLHttpRequest.prototype.send=new Proxy(XMLHttpRequest.prototype.send,{apply:(e,r,n)=>{if(!r[ps])return Reflect.apply(e,r,n);setTimeout((()=>{const e={readyState:{value:r.DONE,writable:!1},statusText:{value:"OK",writable:!1},response:{value:"",writable:!1},responseText:{value:"",writable:!1},responseURL:{value:r[ys],writable:!1},responseXML:{value:null,writable:!1},status:{value:200,writable:!1}};switch(r[ds]={date:(new Date).toUTCString(),"content-length":"0"},r.responseType){case"arraybuffer":e.response.value=new ArrayBuffer(0),r[ds]["content-type"]="application/octet-stream";break;case"blob":e.response.value=new Blob([]),r[ds]["content-type"]="application/octet-stream";break;case"document":{const t=(new DOMParser).parseFromString("","text/html");e.response.value=t,e.responseXML.value=t,r[ds]["content-type"]="text/html",r[ds]["content-length"]=t.documentElement.outerHTML.length.toString();break}case"json":e.response.value={},e.responseText.value="{}",r[ds]["content-type"]="application/json",r[ds]["content-length"]="2";break;default:if(r[ds]["content-type"]="text/plain","string"!=typeof t||""===t)break;try{const n=kn(t);e.response.value=n,e.responseText.value=n,r[ds]["content-length"]=n.length.toString()}catch(e){ls.error("Generating random response text",e)}}Object.defineProperties(r,e),r.dispatchEvent(new Event("readystatechange")),r.dispatchEvent(new Event("load")),r.dispatchEvent(new Event("loadend"))}),1)}}),XMLHttpRequest.prototype.getResponseHeader=new Proxy(XMLHttpRequest.prototype.getResponseHeader,{apply:(e,t,r)=>t[ps]?t.readyState!==t.DONE?null:t[ds][r[0].toLowerCase()]??null:Reflect.apply(e,t,r)}),XMLHttpRequest.prototype.getAllResponseHeaders=new Proxy(XMLHttpRequest.prototype.getAllResponseHeaders,{apply:(e,t,r)=>{if(!t[ps])return Reflect.apply(e,t,r);if(t.readyState!==t.DONE)return null;let n="";for(const[e,r]of Object.entries(t[ds]))n+=`${e}: ${r}\r\n`;return n}})},e.setConstant=function(e,t,r,n,o){let i;switch(void 0!==o&&iu.warn("setProxyTrap will be ignored"),t){case"undefined":i=void 0;break;case"false":i=!1;break;case"true":i=!0;break;case"null":i=null;break;case"emptyObj":i={};break;case"emptyArr":i=[];break;case"noopFunc":i=()=>{};break;case"noopCallbackFunc":i=()=>()=>{};break;case"trueFunc":i=()=>!0;break;case"falseFunc":i=()=>!1;break;case"throwFunc":i=()=>{throw new Error};break;case"noopPromiseResolve":i=()=>Promise.resolve(new Response("",{status:200,statusText:"OK"}));break;case"noopPromiseReject":i=()=>Promise.reject();break;case"":i="";break;case"-1":i=-1;break;case"yes":i="yes";break;case"no":i="no";break;default:{const e=parseInt(t,10);if(!isNaN(e)&&e>=0&&e<=32767){i=t;break}throw new Error("Invalid value")}}const s=i;switch(n){case"asFunction":i=()=>s;break;case"asCallback":i=()=>()=>s;break;case"asResolved":i=()=>Promise.resolve(s);break;case"asRejected":i=()=>Promise.reject(s)}let a;if(void 0!==r&&""!==r&&(a=vn(r)||bn(r)),a??=null,!e.includes(".")){let r=window[e];const n=Object.getOwnPropertyDescriptor(window,e);return void Object.defineProperty(window,e,{configurable:!0,get:()=>null===a||ou(a)?(iu.debug(`Returning fake value for property window.${e}`,{value:t}),i):"function"==typeof n?.get?n.get.apply(window):r,set:"function"==typeof n?.set?n?.set.bind(window):e=>{r=e}})}const u=Object,c=Function,f=r=>{let n,o;return(s,l)=>{if(1===r.length&&r[0]===l)return iu.debug(`Returning fake value for property window.${e}`,{value:t}),i;let p=Reflect.get(s,l,s);const y=u.getOwnPropertyDescriptor(s,l);if(y&&"value"in y&&!y.configurable&&!y.writable)return p;if("function"==typeof p&&/\{\s*\[native code\]/.test(c.prototype.toString.call(p))&&(void 0!==o&&o[l]?p=o[l]:(p=p.bind(s),void 0===o&&(o={}),o[l]=p)),r[0]!==l||!nu(p)||null!==a&&!ou(a))return p;if(n?.link===p)return n.proxy;const d=new Proxy(p,{get:f(r.slice(1))});return n={link:p,proxy:d},d}},l=e.split("."),p=l.shift(),y=Object.getOwnPropertyDescriptor(window,p);let d,h=window[p];Object.defineProperty(window,p,{configurable:!0,get:()=>{let e;if(e="function"==typeof y?.get?y.get.apply(window):h,!nu(e)||null!==a&&!ou(a))return e;if(d?.capturedValue===e)return d.proxy;const t=new Proxy(e,{get:f(l)});return d={capturedValue:e,proxy:t},t},set:"function"==typeof y?.set?y?.set.bind(window):e=>{h=e}})},e.setLocalStorageItem=function(e,t){if("string"!=typeof e)throw new Error(`key should be string, is ${e}`);if("string"!=typeof t)throw new Error(`value should be string, is ${t}`);const r=tu(t);"$remove$"===r?ru(localStorage,e):localStorage.setItem(e,r)},e.setSessionStorageItem=function(e,t){if("string"!=typeof e)throw new Error(`key should be string, is ${e}`);if("string"!=typeof t)throw new Error(`value should be string, is ${t}`);const r=tu(t);"$remove$"===r?ru(sessionStorage,e):sessionStorage.setItem(e,r)},e}({});
